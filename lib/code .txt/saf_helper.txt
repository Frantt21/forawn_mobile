import 'package:flutter/services.dart';

class SafHelper {
  static const MethodChannel _channel = MethodChannel('forawn/saf');

  static Future<String?> pickDirectory() async {
    try {
      final String? uri = await _channel.invokeMethod<String>('pickDirectory');
      return uri;
    } catch (e) {
      print('pickDirectory error: $e');
      return null;
    }
  }

  static Future<String?> saveFileFromPath({
    required String treeUri,
    required String tempPath,
    required String fileName,
  }) async {
    try {
      final String? savedUri = await _channel.invokeMethod<String>('saveFileFromPath', {
        'treeUri': treeUri,
        'tempPath': tempPath,
        'fileName': fileName,
      });
      return savedUri;
    } catch (e) {
      print('saveFileFromPath error: $e');
      return null;
    }
  }
}
